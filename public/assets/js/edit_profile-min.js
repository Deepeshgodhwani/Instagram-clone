const toggleBar=()=>{$("#message").css({display:"none"})},statusMessage=s=>{$("#message").text(s),$("#message").css({display:"flex"}),setTimeout(toggleBar,3e3)};let toggleSection=s=>{let e=document.getElementById("profile-form"),a=document.getElementById("passwordChangeSection"),t=document.getElementById("heading-1"),o=document.getElementById("heading-2");s?(a.style.display="none",e.style.display="flex",t.style.borderBottom="2px solid black",o.style.borderBottom="none"):(a.style.display="flex",e.style.display="none",t.style.borderBottom="none",o.style.borderBottom="2px solid black")};$("#profile-form").submit(function(s){if(s.preventDefault(),"true"===$(this.isGuest).val()){statusMessage("Default user are not permitted to perfom this operation");let s=$(this.logName).val(),e=$(this.logUserName).val();return $(this.name).val(s),$(this.username).val(e),void $(this.password).val("")}$("#submit").val(""),$(".loading_GIF").css({display:"flex"}),$.ajax({type:"post",url:$(this).attr("action"),data:$(this).serialize(),success:function(s){"wrong password"==s.error?($(".password").val(""),statusMessage("Invalid password"),$("#submit").val("submit"),$(".loading_GIF").css({display:"none"})):"username already exist"==s.error?($("#value-username").val(""),statusMessage("Username is already exist"),$("#submit").val("submit"),$(".loading_GIF").css({display:"none"})):($("#value-name").val(s.user.name),$("#value-username").val(s.user.username),$("#value-bio").val(" "),$("#value-username").val(s.user.username),$(".password").val(""),$("#submit").val("submit"),$(".loading_GIF").css({display:"none"}),statusMessage("Profile saved"))},error:function(s){statusMessage("Something went wrong. Please try again.")}})}),$(".password-changing-form").submit(function(s){s.preventDefault(),$("#sub").val(""),$(".loading_GIF2").css({display:"flex"});let e=$(".oldPass"),a=$(".newPass"),t=$(".confPass");$.ajax({type:"post",url:$(this).attr("action"),data:$(this).serialize(),success:function(s){"wrong password"==s.error?(e.val(""),a.val(""),t.val(""),$("#sub").val("Change Password"),$(".loading_GIF2").css({display:"none"}),statusMessage("Old password is invalid")):"same password"==s.error?(e.val(""),a.val(""),t.val(""),$("#sub").val("Change Password"),$(".loading_GIF2").css({display:"none"}),statusMessage("Your new password is too similiar to your current password. Please try another password")):"passandconf"==s.error?(e.val(""),a.val(""),t.val(""),$("#sub").val("Change Password"),$(".loading_GIF2").css({display:"none"}),statusMessage("The password confirmation does not match")):(e.val(""),a.val(""),t.val(""),$("#sub").val("Change Password"),$(".loading_GIF2").css({display:"none"}),statusMessage("Password changed"))},error:function(s){statusMessage("Something went wrong. Please try again.")}})}),$(".form-box").click(function(){$(".searchResult").css({display:"none"}),$("#close").css({display:"none"}),$("#logo").css({display:"flex"}),$(".loading-bar").css({display:"none"}),$(".search").val(""),$(".dropDown").css({display:"none"})});